<?php

// default views for administration
include_once('total_control_views.inc');

// implement panel API
include_once('total_control_panels.inc');

/* 
 * Implementation of hook_perm
 * adds permissions for access to the total control dashboard
 */
function total_control_perm() {
 return array('have total control');
}

/* 
 * Implementation of hook_requirements
 * adds versions to module requirements
 */
function total_control_requirements($phase) {
  $requirements = array();
  // Ensure translations don't break at install time
  $t = get_t();

  // Require Views 2 and Panels 3
  if ($phase == 'install') {
    $requirements['views'] = array(
      'title' => $t('Views'),
      'value' => 2,
      'severity' => REQUIREMENT_INFO
    );
    $requirements['panels'] = array(
      'title' => $t('Panels'),
      'value' => 3,
      'severity' => REQUIREMENT_INFO
    );
  }

  return $requirements;
}


/* 
 * Implementation of hook_menu
 * adds the total control dashboard
 */
function total_control_menu() {
  $items = array();
  
  /* TODO: this will eventually be a default panels page

  $items['admin/dashboard'] = array(
    'title' => 'Total Control Admin Dashboard',
    'page callback' => 'total_control_dashboard',
    'access arguments' => array('have total control'),
    'type' => MENU_CALLBACK,
  );
  
  */

  return $items;
}

/* 
 * Menu Callback
 * TODO panels page for total control dashboard
 
function total_control_dashboard(){
  $output = 'hello?';
  return $output;
}
 */
